# 快速软件开发指南

## 核心理念

我的主要方向是提供图形化界面，在不影响软件使用的前提下，尽可能提高开发效率，并在易用性方面为用户提供便捷的操作。

### 开发要求

1. **一定有图形化界面**
2. **开发效率至上**
3. **稳定的正常功能**

在尝试了 C# 的 WPF、Python 的 PyQt、Tkinter、Flutter 等框架后，最终我选择了 **Tauri** 或 **Python 的 Maliang** 作为主要开发框架。

---

## Tauri 开发

> 官网：[https://tauri.app/](https://tauri.app/)

Tauri 是一个以 Rust 为后端的 Webview 框架，通过 tauri-plugin 实现即使不学习 Rust，也可以用纯 TypeScript 调用原生 API。

### 开发优势

- **快速** - 高性能运行体验
- **小巧** - 打包体积小
- **前端精美图形化** - 利用现代 Web 技术

### 环境配置

#### Windows 开发环境部署

只需要安装 [scoop](https://scoop.sh/) 和 [C++ 环境](https://visualstudio.microsoft.com/zh-hans/visual-cpp-build-tools/)。

```bash
scoop install vscode bun rustup
```

一行命令，非常简单!

#### 开发工具栈

| 工具 | 用途 |
|------|------|
| scoop | Windows 包管理 |
| VSCode | 文本编辑器 |
| Bun | 前端包管理 |
| Rustup | Rust 环境管理 |

> **提示**: VSCode 在打开 Tauri 项目时会提示安装相关插件,点击同意即可。

### 开发流程

我们主要关注 TypeScript/JavaScript 逻辑实现,前端部分可以自己写一点、AI 写一点。

**示例**: 简单的二进制计算器
- 后端使用 Rust 实现计算逻辑并暴露接口
- AI 生成对应的图形化界面
- 整个开发过程非常流畅

#### 主要代码文件

- **前端调用**: `src/*.js` 文件
- **后端逻辑和接口暴露**: `src-tauri/src/*.rs` 文件

#### 注意事项

⚠️ Tauri 接口函数需要声明,并在主函数注册。需要特别注意插件权限,在 `capabilities` 中声明插件权限。

**常用后端装饰器**:
```rust
#[tauri::command] // 用于声明函数,VSCode 会自动帮你注册
```

### 编译与构建

#### 桌面端

```bash
bun run tauri build
```

桌面端开发非常简单。如果 TypeScript 类型检测没有问题,开发流程基本顺畅。

#### Android 端

```bash
bun run tauri android build
```

**环境配置要点**:
1. 安装 Android Studio
2. 按照官网配置环境
3. 下载 NDK、SDK 和 CLI
4. **Java 版本要求**: 
   - ❌ Java 8 不支持(会报错缺少 JVM)
   - ❌ Java 11 也不行
   - ✅ 推荐使用 Amazon 的 Java 17

---

## Maliang 开发

Maliang 是基于 Tkinter 的 Python 库,利用 Python 丰富的生态资源来进行快速图形化开发。

### 核心特点

只需要将组件绑定到编写好的函数上,便能迅速实现图形化界面。Maliang 的文档非常友好,读一小时就能学完,适合快速上手。

### Python 现代化工程开发

#### 推荐工具: uv

**安装 uv**:
```bash
scoop install uv
```

**初始化项目**:
```bash
uv init [项目文件夹名称]
uv venv -p 3.13  # 添加 3.13 的 Python 环境
```

**激活虚拟环境**:
```bash
.venv/scripts/activate.ps1
```

> **提示**: 在 VSCode 中切换为当前目录的 Python 解释器,启用包识别和补全功能。

**添加项目依赖**:
```bash
uv add maliang[opt]  # 添加项目依赖
```

### 打包方式

Python 打包主要有两种方式:

| 工具 | 优点 | 缺点 |
|------|------|------|
| **PyInstaller** | 打包速度快 | 启动运行速度较慢 |
| **Nuitka** | 运行速度快 | 打包较大图形化界面时容易溢出栈内存 |

#### 推荐策略

一般推荐使用 **Nuitka** 打包,如果出现问题再使用 **PyInstaller**。

**使用 Nuitka 打包**:
```bash
uv add nuitka
nuitka main.py --各种参数
```

---

## 总结

通过合理选择开发框架和工具链,我们可以在保证功能稳定的前提下,大幅提升图形化软件的开发效率。Tauri 适合追求性能和跨平台的项目,而 Maliang 则适合快速开发 Python 生态的图形化应用。